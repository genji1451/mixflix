{"ast":null,"code":"var _jsxFileName = \"/Users/ilaklopot/Documents/supabase/src/components/home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Heart, Plus, Play, Check, Clock, LogOut, Sun, Moon } from 'lucide-react';\nimport { createClient } from '@supabase/supabase-js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabaseUrl = 'https://mtwpxdahrpcscvoaedoe.supabase.co';\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10d3B4ZGFocnBjc2N2b2FlZG9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NzU4ODcsImV4cCI6MjA2NTA1MTg4N30.bAwL-mIFHciZHeD-C3ls_tQQ3Vuzd-fC2PodWU5AN4U';\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n// Mock initial data\nconst mockMovies = [{\n  id: 1,\n  title: \"The Last of Us\",\n  description: \"A post-apocalyptic drama about survival and human connection in a world overrun by infected creatures.\",\n  type: \"series\",\n  image_url: \"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=450&fit=crop\",\n  is_watched: false,\n  user_id: 'user-123',\n  created_at: '2024-01-15'\n}, {\n  id: 2,\n  title: \"Dune: Part Two\",\n  description: \"Paul Atreides unites with Chani and the Fremen while seeking revenge against the conspirators who destroyed his family.\",\n  type: \"movie\",\n  image_url: \"https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=450&fit=crop\",\n  is_watched: false,\n  user_id: 'user-123',\n  created_at: '2024-01-10'\n}, {\n  id: 3,\n  title: \"Oppenheimer\",\n  description: \"The story of American scientist J. Robert Oppenheimer and his role in the development of the atomic bomb.\",\n  type: \"movie\",\n  image_url: \"https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=300&h=450&fit=crop\",\n  is_watched: true,\n  user_id: 'user-123',\n  created_at: '2024-01-05'\n}];\nexport default function MovieListApp() {\n  _s();\n  var _user$user_metadata, _user$user_metadata2;\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [activeTab, setActiveTab] = useState('watchlist');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    type: 'movie',\n    image_url: ''\n  });\n  const [theme, setTheme] = useState(window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');\n  const loadMovies = useCallback(async () => {\n    if (!user) return;\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('movies').select('*').eq('user_id', user.id).order('created_at', {\n        ascending: false\n      });\n      if (error) {\n        console.error('Error loading movies:', error.message);\n        return;\n      }\n      if (data) {\n        setMovies(data);\n      }\n    } catch (error) {\n      console.error('Error loading movies:', error);\n    }\n  }, [user]);\n  useEffect(() => {\n    // Check for existing session\n    const checkUser = async () => {\n      const {\n        data: {\n          session\n        }\n      } = await supabase.auth.getSession();\n      if (session !== null && session !== void 0 && session.user) {\n        const userData = {\n          id: session.user.id,\n          email: session.user.email || '',\n          user_metadata: session.user.user_metadata || {},\n          app_metadata: session.user.app_metadata,\n          aud: session.user.aud,\n          role: session.user.role\n        };\n        setUser(userData);\n        setIsAuthenticated(true);\n      }\n    };\n    checkUser();\n\n    // Set up auth state listener\n    const {\n      data: {\n        subscription\n      }\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      if (session !== null && session !== void 0 && session.user) {\n        const userData = {\n          id: session.user.id,\n          email: session.user.email || '',\n          user_metadata: session.user.user_metadata || {},\n          app_metadata: session.user.app_metadata,\n          aud: session.user.aud,\n          role: session.user.role\n        };\n        setUser(userData);\n        setIsAuthenticated(true);\n      } else {\n        setUser(null);\n        setIsAuthenticated(false);\n      }\n    });\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []);\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      loadMovies();\n    }\n  }, [isAuthenticated, user, loadMovies]);\n  useEffect(() => {\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [theme]);\n  const handleGoogleLogin = async () => {\n    setIsLoading(true);\n    const {\n      error\n    } = await supabase.auth.signInWithOAuth({\n      provider: 'google',\n      options: {\n        redirectTo: window.location.origin\n      }\n    });\n    if (error) {\n      console.error('Error signing in with Google:', error.message);\n    }\n    setIsLoading(false);\n  };\n  const handleSignOut = async () => {\n    const {\n      error\n    } = await supabase.auth.signOut();\n    if (error) {\n      console.error('Error signing out:', error.message);\n    }\n  };\n  const handleAddMovie = async () => {\n    if (!user || !formData.title.trim()) {\n      console.log('User not authenticated or title is empty');\n      return;\n    }\n    try {\n      console.log('Adding movie with data:', {\n        ...formData,\n        user_id: user.id,\n        created_at: new Date().toISOString()\n      });\n      const movieData = {\n        title: formData.title,\n        description: formData.description,\n        type: formData.type,\n        image_url: formData.image_url || 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=300&h=450&fit=crop',\n        is_watched: false,\n        user_id: user.id,\n        created_at: new Date().toISOString()\n      };\n      const {\n        data,\n        error\n      } = await supabase.from('movies').insert([movieData]).select().single();\n      if (error) {\n        console.error('Error adding movie:', error);\n        alert('Failed to add movie: ' + error.message);\n        return;\n      }\n      if (data) {\n        console.log('Movie added successfully:', data);\n        setMovies(prev => [data, ...prev]);\n        setFormData({\n          title: '',\n          description: '',\n          type: 'movie',\n          image_url: ''\n        });\n        setShowAddForm(false);\n      }\n    } catch (error) {\n      console.error('Error in handleAddMovie:', error);\n      alert('An unexpected error occurred while adding the movie');\n    }\n  };\n  const toggleWatched = async movieId => {\n    try {\n      const movie = movies.find(m => m.id === movieId);\n      if (!movie) return;\n      const {\n        data,\n        error\n      } = await supabase.from('movies').update({\n        is_watched: !movie.is_watched\n      }).eq('id', movieId).select();\n      if (error) {\n        console.error('Error updating movie:', error.message);\n        alert('Failed to update movie: ' + error.message);\n        return;\n      }\n      if (data && data.length > 0) {\n        setMovies(prev => prev.map(m => m.id === movieId ? data[0] : m));\n      }\n    } catch (error) {\n      console.error('Error updating movie:', error);\n      alert('Unexpected error updating movie');\n    }\n  };\n  const filteredMovies = movies.filter(movie => activeTab === 'watchlist' ? !movie.is_watched : movie.is_watched);\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'dark' ? 'light' : 'dark');\n  };\n\n  // Login Screen\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md border border-white/20 shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-pink-500 to-purple-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(Heart, {\n              className: \"w-8 h-8 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-white mb-2\",\n            children: \"Our Movie List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white/70\",\n            children: \"Movies and shows we want to watch together \\u2764\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleGoogleLogin,\n          disabled: isLoading,\n          className: \"w-full bg-white hover:bg-gray-50 text-gray-900 font-semibold py-4 px-6 rounded-2xl flex items-center justify-center space-x-3 transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-900\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#4285F4\",\n                d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#34A853\",\n                d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#FBBC05\",\n                d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#EA4335\",\n                d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Continue with Google\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main App\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white/70 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/70 sticky top-0 z-50 transition-colors duration-500\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-pink-500 to-purple-600 w-10 h-10 rounded-xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Heart, {\n                className: \"w-5 h-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                children: \"Our Movie List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 dark:text-gray-300\",\n                children: \"Movies and shows we want to watch together \\u2764\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleTheme,\n              className: \"p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-300 shadow-md flex items-center justify-center\",\n              \"aria-label\": \"Toggle theme\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"relative w-6 h-6 block\",\n                children: [/*#__PURE__*/_jsxDEV(Sun, {\n                  className: `absolute inset-0 w-6 h-6 text-yellow-400 transition-all duration-500 ${theme === 'dark' ? 'opacity-0 scale-75 rotate-45' : 'opacity-100 scale-100 rotate-0'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Moon, {\n                  className: `absolute inset-0 w-6 h-6 text-blue-300 transition-all duration-500 ${theme === 'dark' ? 'opacity-100 scale-100 rotate-0' : 'opacity-0 scale-75 -rotate-45'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [(user === null || user === void 0 ? void 0 : (_user$user_metadata = user.user_metadata) === null || _user$user_metadata === void 0 ? void 0 : _user$user_metadata.avatar_url) && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: user.user_metadata.avatar_url,\n                alt: \"Profile\",\n                className: \"w-8 h-8 rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700 dark:text-gray-200\",\n                children: (user === null || user === void 0 ? void 0 : (_user$user_metadata2 = user.user_metadata) === null || _user$user_metadata2 === void 0 ? void 0 : _user$user_metadata2.full_name) || (user === null || user === void 0 ? void 0 : user.email)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSignOut,\n              className: \"p-2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(LogOut, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex bg-gray-800 rounded-2xl p-1 shadow-sm border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('watchlist'),\n            className: `px-6 py-3 rounded-xl font-medium transition-all duration-200 ${activeTab === 'watchlist' ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Watchlist (\", movies.filter(m => !m.is_watched).length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('watched'),\n            className: `px-6 py-3 rounded-xl font-medium transition-all duration-200 ${activeTab === 'watched' ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Watched (\", movies.filter(m => m.is_watched).length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddForm(true),\n          className: \"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-2xl font-semibold flex items-center space-x-2 transition-all duration-200 hover:scale-105 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Add New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n        children: filteredMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 rounded-3xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"aspect-[3/4] relative overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: movie.image_url,\n              alt: movie.title,\n              className: \"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-4 right-4\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-semibold ${movie.type === 'movie' ? 'bg-blue-500 text-white' : 'bg-green-500 text-white'}`,\n                children: movie.type === 'movie' ? 'Movie' : 'Series'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg text-gray-900 mb-2 line-clamp-1\",\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm mb-4 line-clamp-2\",\n              children: movie.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleWatched(movie.id),\n              className: `w-full py-3 px-4 rounded-2xl font-semibold transition-all duration-200 hover:scale-105 ${movie.is_watched ? 'bg-green-500 hover:bg-green-600 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center space-x-2\",\n                children: movie.is_watched ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Check, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Watched\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Play, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Mark as Watched\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, movie.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), filteredMovies.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4\",\n          children: activeTab === 'watchlist' ? /*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-8 h-8 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Check, {\n            className: \"w-8 h-8 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 mb-2\",\n          children: activeTab === 'watchlist' ? 'No movies in watchlist' : 'No movies watched yet'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: activeTab === 'watchlist' ? 'Add some movies and shows you want to watch together!' : 'Movies you\\'ve watched will appear here.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-3xl p-8 w-full max-w-md shadow-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-6\",\n          children: \"Add New Movie/Show\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.title,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                title: e.target.value\n              })),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\",\n              placeholder: \"Enter movie or show title\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: formData.description,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                description: e.target.value\n              })),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\",\n              rows: 3,\n              placeholder: \"Enter a brief description\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.type,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                type: e.target.value\n              })),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"movie\",\n                children: \"Movie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"series\",\n                children: \"Series\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Image URL (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: formData.image_url,\n              onChange: e => setFormData(prev => ({\n                ...prev,\n                image_url: e.target.value\n              })),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\",\n              placeholder: \"Enter image URL or leave empty for default\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-500\",\n              children: \"If left empty, a default image will be used\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3 pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowAddForm(false),\n              className: \"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleAddMovie,\n              disabled: !formData.title.trim(),\n              className: \"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-2xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: \"Add Movie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieListApp, \"BFfxhPR8qnEVRFsRLTTBwQx5b0g=\");\n_c = MovieListApp;\nvar _c;\n$RefreshReg$(_c, \"MovieListApp\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Heart","Plus","Play","Check","Clock","LogOut","Sun","Moon","createClient","jsxDEV","_jsxDEV","Fragment","_Fragment","supabaseUrl","supabaseKey","supabase","mockMovies","id","title","description","type","image_url","is_watched","user_id","created_at","MovieListApp","_s","_user$user_metadata","_user$user_metadata2","user","setUser","isAuthenticated","setIsAuthenticated","movies","setMovies","activeTab","setActiveTab","showAddForm","setShowAddForm","isLoading","setIsLoading","formData","setFormData","theme","setTheme","window","matchMedia","matches","loadMovies","data","error","from","select","eq","order","ascending","console","message","checkUser","session","auth","getSession","userData","email","user_metadata","app_metadata","aud","role","subscription","onAuthStateChange","_event","unsubscribe","document","documentElement","classList","add","remove","handleGoogleLogin","signInWithOAuth","provider","options","redirectTo","location","origin","handleSignOut","signOut","handleAddMovie","trim","log","Date","toISOString","movieData","insert","single","alert","prev","toggleWatched","movieId","movie","find","m","update","length","map","filteredMovies","filter","toggleTheme","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","viewBox","fill","d","avatar_url","src","alt","full_name","value","onChange","e","target","placeholder","required","rows","_c","$RefreshReg$"],"sources":["/Users/ilaklopot/Documents/supabase/src/components/home.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Heart, Plus, Play, Check, Star, Calendar, Clock, UserIcon, LogOut, Sun, Moon } from 'lucide-react';\nimport { Movie, User, FormData } from '../types';\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = 'https://mtwpxdahrpcscvoaedoe.supabase.co';\nconst supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10d3B4ZGFocnBjc2N2b2FlZG9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NzU4ODcsImV4cCI6MjA2NTA1MTg4N30.bAwL-mIFHciZHeD-C3ls_tQQ3Vuzd-fC2PodWU5AN4U';\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n// Mock initial data\nconst mockMovies: Movie[] = [\n  {\n    id: 1,\n    title: \"The Last of Us\",\n    description: \"A post-apocalyptic drama about survival and human connection in a world overrun by infected creatures.\",\n    type: \"series\",\n    image_url: \"https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=300&h=450&fit=crop\",\n    is_watched: false,\n    user_id: 'user-123',\n    created_at: '2024-01-15'\n  },\n  {\n    id: 2,\n    title: \"Dune: Part Two\",\n    description: \"Paul Atreides unites with Chani and the Fremen while seeking revenge against the conspirators who destroyed his family.\",\n    type: \"movie\",\n    image_url: \"https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=300&h=450&fit=crop\",\n    is_watched: false,\n    user_id: 'user-123',\n    created_at: '2024-01-10'\n  },\n  {\n    id: 3,\n    title: \"Oppenheimer\",\n    description: \"The story of American scientist J. Robert Oppenheimer and his role in the development of the atomic bomb.\",\n    type: \"movie\",\n    image_url: \"https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=300&h=450&fit=crop\",\n    is_watched: true,\n    user_id: 'user-123',\n    created_at: '2024-01-05'\n  }\n];\n\nexport default function MovieListApp() {\n  const [user, setUser] = useState<User | null>(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [movies, setMovies] = useState<Movie[]>([]);\n  const [activeTab, setActiveTab] = useState('watchlist');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState<FormData>({\n    title: '',\n    description: '',\n    type: 'movie',\n    image_url: ''\n  });\n  const [theme, setTheme] = useState<'light' | 'dark'>(\n    window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n  );\n\n  const loadMovies = useCallback(async () => {\n    if (!user) return;\n    \n    try {\n      const { data, error } = await supabase\n        .from('movies')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (error) {\n        console.error('Error loading movies:', error.message);\n        return;\n      }\n\n      if (data) {\n        setMovies(data as Movie[]);\n      }\n    } catch (error) {\n      console.error('Error loading movies:', error);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    // Check for existing session\n    const checkUser = async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (session?.user) {\n        const userData: User = {\n          id: session.user.id,\n          email: session.user.email || '',\n          user_metadata: session.user.user_metadata || {},\n          app_metadata: session.user.app_metadata,\n          aud: session.user.aud,\n          role: session.user.role\n        };\n        setUser(userData);\n        setIsAuthenticated(true);\n      }\n    };\n    checkUser();\n\n    // Set up auth state listener\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\n      if (session?.user) {\n        const userData: User = {\n          id: session.user.id,\n          email: session.user.email || '',\n          user_metadata: session.user.user_metadata || {},\n          app_metadata: session.user.app_metadata,\n          aud: session.user.aud,\n          role: session.user.role\n        };\n        setUser(userData);\n        setIsAuthenticated(true);\n      } else {\n        setUser(null);\n        setIsAuthenticated(false);\n      }\n    });\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      loadMovies();\n    }\n  }, [isAuthenticated, user, loadMovies]);\n\n  useEffect(() => {\n    if (theme === 'dark') {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [theme]);\n\n  const handleGoogleLogin = async () => {\n    setIsLoading(true);\n    const { error } = await supabase.auth.signInWithOAuth({\n      provider: 'google',\n      options: {\n        redirectTo: window.location.origin\n      }\n    });\n    if (error) {\n      console.error('Error signing in with Google:', error.message);\n    }\n    setIsLoading(false);\n  };\n\n  const handleSignOut = async () => {\n    const { error } = await supabase.auth.signOut();\n    if (error) {\n      console.error('Error signing out:', error.message);\n    }\n  };\n\n  const handleAddMovie = async () => {\n    if (!user || !formData.title.trim()) {\n      console.log('User not authenticated or title is empty');\n      return;\n    }\n\n    try {\n      console.log('Adding movie with data:', {\n        ...formData,\n        user_id: user.id,\n        created_at: new Date().toISOString()\n      });\n\n      const movieData = {\n        title: formData.title,\n        description: formData.description,\n        type: formData.type,\n        image_url: formData.image_url || 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=300&h=450&fit=crop',\n        is_watched: false,\n        user_id: user.id,\n        created_at: new Date().toISOString()\n      };\n\n      const { data, error } = await supabase\n        .from('movies')\n        .insert([movieData])\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Error adding movie:', error);\n        alert('Failed to add movie: ' + error.message);\n        return;\n      }\n\n      if (data) {\n        console.log('Movie added successfully:', data);\n        setMovies(prev => [data as Movie, ...prev]);\n        setFormData({ title: '', description: '', type: 'movie', image_url: '' });\n        setShowAddForm(false);\n      }\n    } catch (error) {\n      console.error('Error in handleAddMovie:', error);\n      alert('An unexpected error occurred while adding the movie');\n    }\n  };\n\n  const toggleWatched = async (movieId: number) => {\n    try {\n      const movie = movies.find(m => m.id === movieId);\n      if (!movie) return;\n\n      const { data, error } = await supabase\n        .from('movies')\n        .update({ is_watched: !movie.is_watched })\n        .eq('id', movieId)\n        .select();\n\n      if (error) {\n        console.error('Error updating movie:', error.message);\n        alert('Failed to update movie: ' + error.message);\n        return;\n      }\n\n      if (data && data.length > 0) {\n        setMovies(prev => prev.map(m => m.id === movieId ? data[0] as Movie : m));\n      }\n    } catch (error) {\n      console.error('Error updating movie:', error);\n      alert('Unexpected error updating movie');\n    }\n  };\n\n  const filteredMovies = movies.filter(movie => \n    activeTab === 'watchlist' ? !movie.is_watched : movie.is_watched\n  );\n\n  const toggleTheme = () => {\n    setTheme((prev) => (prev === 'dark' ? 'light' : 'dark'));\n  };\n\n  // Login Screen\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4\">\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md border border-white/20 shadow-2xl\">\n          <div className=\"text-center mb-8\">\n            <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n              <Heart className=\"w-8 h-8 text-white\" />\n            </div>\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Our Movie List</h1>\n            <p className=\"text-white/70\">Movies and shows we want to watch together ❤️</p>\n          </div>\n          \n          <button\n            onClick={handleGoogleLogin}\n            disabled={isLoading}\n            className=\"w-full bg-white hover:bg-gray-50 text-gray-900 font-semibold py-4 px-6 rounded-2xl flex items-center justify-center space-x-3 transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg\"\n          >\n            {isLoading ? (\n              <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-900\"></div>\n            ) : (\n              <>\n                <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                  <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                  <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                  <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                  <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                </svg>\n                <span>Continue with Google</span>\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Main App\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-500\">\n      {/* Header */}\n      <header className=\"bg-white/70 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/70 sticky top-0 z-50 transition-colors duration-500\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"bg-gradient-to-r from-pink-500 to-purple-600 w-10 h-10 rounded-xl flex items-center justify-center\">\n                <Heart className=\"w-5 h-5 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Our Movie List</h1>\n                <p className=\"text-sm text-gray-600 dark:text-gray-300\">Movies and shows we want to watch together ❤️</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={toggleTheme}\n                className=\"p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-300 shadow-md flex items-center justify-center\"\n                aria-label=\"Toggle theme\"\n              >\n                <span className=\"relative w-6 h-6 block\">\n                  <Sun className={`absolute inset-0 w-6 h-6 text-yellow-400 transition-all duration-500 ${theme === 'dark' ? 'opacity-0 scale-75 rotate-45' : 'opacity-100 scale-100 rotate-0'}`} />\n                  <Moon className={`absolute inset-0 w-6 h-6 text-blue-300 transition-all duration-500 ${theme === 'dark' ? 'opacity-100 scale-100 rotate-0' : 'opacity-0 scale-75 -rotate-45'}`} />\n                </span>\n              </button>\n              <div className=\"flex items-center space-x-3\">\n                {user?.user_metadata?.avatar_url && (\n                  <img \n                    src={user.user_metadata.avatar_url} \n                    alt=\"Profile\" \n                    className=\"w-8 h-8 rounded-full\"\n                  />\n                )}\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-200\">\n                  {user?.user_metadata?.full_name || user?.email}\n                </span>\n              </div>\n              <button\n                onClick={handleSignOut}\n                className=\"p-2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Tabs and Add Button */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0\">\n          <div className=\"flex bg-gray-800 rounded-2xl p-1 shadow-sm border border-gray-200\">\n            <button\n              onClick={() => setActiveTab('watchlist')}\n              className={`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${\n                activeTab === 'watchlist'\n                  ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg'\n                  : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n              }`}\n            >\n              <div className=\"flex items-center space-x-2\">\n                <Clock className=\"w-4 h-4\" />\n                <span>Watchlist ({movies.filter(m => !m.is_watched).length})</span>\n              </div>\n            </button>\n            <button\n              onClick={() => setActiveTab('watched')}\n              className={`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${\n                activeTab === 'watched'\n                  ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg'\n                  : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n              }`}\n            >\n              <div className=\"flex items-center space-x-2\">\n                <Check className=\"w-4 h-4\" />\n                <span>Watched ({movies.filter(m => m.is_watched).length})</span>\n              </div>\n            </button>\n          </div>\n\n          <button\n            onClick={() => setShowAddForm(true)}\n            className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-2xl font-semibold flex items-center space-x-2 transition-all duration-200 hover:scale-105 shadow-lg\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span>Add New</span>\n          </button>\n        </div>\n\n        {/* Movies Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {filteredMovies.map((movie) => (\n            <div key={movie.id} className=\"bg-gray-800 rounded-3xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n              <div className=\"aspect-[3/4] relative overflow-hidden\">\n                <img\n                  src={movie.image_url}\n                  alt={movie.title}\n                  className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                <div className=\"absolute top-4 right-4\">\n                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                    movie.type === 'movie' \n                      ? 'bg-blue-500 text-white' \n                      : 'bg-green-500 text-white'\n                  }`}>\n                    {movie.type === 'movie' ? 'Movie' : 'Series'}\n                  </span>\n                </div>\n              </div>\n              \n              <div className=\"p-6\">\n                <h3 className=\"font-bold text-lg text-gray-900 mb-2 line-clamp-1\">{movie.title}</h3>\n                <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">{movie.description}</p>\n                \n                <button\n                  onClick={() => toggleWatched(movie.id)}\n                  className={`w-full py-3 px-4 rounded-2xl font-semibold transition-all duration-200 hover:scale-105 ${\n                    movie.is_watched\n                      ? 'bg-green-500 hover:bg-green-600 text-white'\n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-center space-x-2\">\n                    {movie.is_watched ? (\n                      <>\n                        <Check className=\"w-4 h-4\" />\n                        <span>Watched</span>\n                      </>\n                    ) : (\n                      <>\n                        <Play className=\"w-4 h-4\" />\n                        <span>Mark as Watched</span>\n                      </>\n                    )}\n                  </div>\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {filteredMovies.length === 0 && (\n          <div className=\"text-center py-16\">\n            <div className=\"bg-gray-800 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n              {activeTab === 'watchlist' ? (\n                <Clock className=\"w-8 h-8 text-gray-400\" />\n              ) : (\n                <Check className=\"w-8 h-8 text-gray-400\" />\n              )}\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n              {activeTab === 'watchlist' ? 'No movies in watchlist' : 'No movies watched yet'}\n            </h3>\n            <p className=\"text-gray-600\">\n              {activeTab === 'watchlist' \n                ? 'Add some movies and shows you want to watch together!'\n                : 'Movies you\\'ve watched will appear here.'\n              }\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Add Movie Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-gray-800 rounded-3xl p-8 w-full max-w-md shadow-2xl\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Add New Movie/Show</h2>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Title</label>\n                <input\n                  type=\"text\"\n                  value={formData.title}\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                  placeholder=\"Enter movie or show title\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                  rows={3}\n                  placeholder=\"Enter a brief description\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Type</label>\n                <select\n                  value={formData.type}\n                  onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value as 'movie' | 'series' }))}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                >\n                  <option value=\"movie\">Movie</option>\n                  <option value=\"series\">Series</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Image URL (optional)</label>\n                <input\n                  type=\"url\"\n                  value={formData.image_url}\n                  onChange={(e) => setFormData(prev => ({ ...prev, image_url: e.target.value }))}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n                  placeholder=\"Enter image URL or leave empty for default\"\n                />\n                <p className=\"mt-1 text-sm text-gray-500\">If left empty, a default image will be used</p>\n              </div>\n              \n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowAddForm(false)}\n                  className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleAddMovie}\n                  disabled={!formData.title.trim()}\n                  className=\"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-2xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Add Movie\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}